<odoo>
    <data>
        <record id="project_outsourcing_link_tree" model="ir.ui.view">
            <field name="name">Project outsourcing link</field>
            <field name="model">project.outsourcing.link</field>
            <field name="arch" type="xml">      
                <tree>    
                        <field name="project_id"/>
                        <field name="partner_id"/>
                        <field name="link_type"/>
                        <field name="order_sum_purchase_order_lines"/>
                        <field name="order_direct_payment_amount"/>
                        <field name="order_company_payment_amount"/>
                        <field name="sum_account_move_lines"/>
		</tree>                                
            </field>                                    
        </record>

        <record id="project_outsourcing_link_form" model="ir.ui.view">
            <field name="name">Project outsourcing link</field>
            <field name="model">project.outsourcing.link</field>
            <field name="arch" type="xml">      
                <form>    
			<group>
				<field name="project_id"/>
				<field name="partner_id" context="{'default_is_company': True, 'tree_view_ref':'taz-common.company_tree', 'form_view_ref':'taz-common.company_form'}" options="{'no_quick_create': True}"/>
				<field name="link_type"/>
				<button type="object" name="compute" string="Forcer recalcul" groups="base.group_system"/> 
			</group>
			<group string="Commande de Tasmane au S/T">
				<group>
					<field name="order_sum_purchase_order_lines"/>
					<field name="outsource_part_amount_current"/>
					<button type="object" name="action_open_purchase_order_lines" string="Voir les lignes de commande"/>
					<button type="object" name="create_purchase_order" string="CrÃ©er commande fournisseur"/>
				</group>
				<group>
					<field name="order_direct_payment_amount"/>
					<field name="order_company_payment_amount"/>
				</group>
			</group>
			<group string="Facturation Tasmane / sous-traitant">
				<group>
					<field name="sum_account_move_lines"/>
					<button type="object" name="action_open_account_move_lines" string="Voir les lignes de facture/avoir"/>
				</group>
				<group>
					<field name="marging_amount_current" />
					<field name="marging_rate_current" widget="progressbar" />
				</group>
			</group>
			<group string="Paiement direct du client au sous-traitant">
				<group>
					<field name="order_direct_payment_done" />
				</group>
				<group>
					<field name="order_direct_payment_done_detail" />
				</group>
			</group>
			<group string="Paiement de Tasmane au sous-traitant">
				<group>
					<field name="company_paid" />
					<field name="company_residual" />
				</group>
			</group>
		</form>                                
            </field>                                    
        </record>

</data>
</odoo>
