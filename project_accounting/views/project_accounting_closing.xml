<odoo>
	<data>
           <record model="ir.ui.view" id="project_accounting.project_accounting_closing_tree">
              <field name="name">Project accounting closing</field>
              <field name="model">project.accounting_closing</field>
              <field name="arch" type="xml">
                <tree editable="top" create="false">
                  	<field name="project_id" optional="show"/>
                  	<field name="closing_date" optional="show"/>
			<field name="previous_closing" optional="hide"/>
			<field name="is_validated" optional="show"/>
			<!-- Factiration -->
			<field name="invoice_previous_balance" optional="hide"/>
			<field name="invoice_period_amount" optional="show"/>
			<field name="invoice_balance" optional="hide"/>
			<!-- Achats-->
			<field name="purchase_previous_balance" optional="hide"/>
			<field name="purchase_period_amount" optional="show"/>
			<field name="purchase_balance" optional="hide"/>
			<!-- Total provision -->
			<field name="provision_previous_balance_sum" optional="hide"/>
			<field name="provision_balance_sum" optional="hide"/>
			<!-- PCA -->
			<field name="pca_previous_balance" optional="hide"/>
			<field name="pca_period_amount" optional="show"/>
			<field name="pca_balance" optional="hide"/>
			<!-- FAE -->
			<field name="fae_previous_balance" optional="hide"/>
			<field name="fae_period_amount" optional="show"/>
			<field name="fae_balance" optional="hide"/>
			<!-- CCA -->
			<field name="cca_previous_balance" optional="hide"/>
			<field name="cca_period_amount" optional="show"/>
			<field name="cca_balance" optional="hide"/>
			<!-- FNP -->
			<field name="fnp_previous_balance" optional="hide"/>
			<field name="fnp_period_amount" optional="show"/>
			<field name="fnp_balance" optional="hide"/>
			<!-- Production -->
			<field name="production_previous_balance" optional="hide"/>
			<field name="production_period_amount" optional="show"/>
			<field name="production_stock" optional="show"/>
			<field name="production_destocking" optional="show"/>
			<field name="production_balance" optional="hide"/>
			<!-- Chiffre d'afffaire -->
			<field name="gross_revenue" optional="hide"/>
			<field name="internal_revenue" optional="hide"/>
			<field name="internal_margin_amount" optional="hide"/>
			<field name="internal_margin_rate" widget="progressbar" optional="hide"/>
                </tree>
              </field>
            </record>


           <record model="ir.ui.view" id="project_accounting.project_accounting_closing_form">
              <field name="name">Project accounting closing</field>
              <field name="model">project.accounting_closing</field>
              <field name="arch" type="xml">
                <form>
			<group name="general">
				<field name="project_id"/>
				<field name="closing_date"/>
				<field name="previous_closing"/>
				<field name="is_validated"/>
			</group>
			<group col="3">
				<group name="invoice" string="Facturation">
					<field name="invoice_previous_balance"/>
					<field name="invoice_period_amount"/>
					<field name="invoice_balance"/>
				</group>
				<group name="purchase" string="Achats">
					<field name="purchase_previous_balance"/>
					<field name="purchase_period_amount"/>
					<field name="purchase_balance"/>
				</group>
				<group name="prov" string="Total provisions">
					<field name="provision_previous_balance_sum"/>
					<field name="provision_balance_sum"/>
				</group>
			</group>
			<group col="4">
				<group name="pca" string="PCA">
					<field name="pca_previous_balance"/>
					<field name="pca_period_amount"/>
					<field name="pca_balance"/>
				</group>
				<group name="fae" string="FAE">
					<field name="fae_previous_balance"/>
					<field name="fae_period_amount"/>
					<field name="fae_balance"/>
				</group>
				<group name="cca" string="CCA">
					<field name="cca_previous_balance"/>
					<field name="cca_period_amount"/>
					<field name="cca_balance"/>
				</group>
				<group name="fnp" string="FNP">
					<field name="fnp_previous_balance"/>
					<field name="fnp_period_amount"/>
					<field name="fnp_balance"/>
				</group>
			</group>
			<group name="prod" string="Production">
				<group>
					<field name="production_previous_balance"/>
					<field name="production_period_amount"/>
					<field name="production_stock"/>
				</group>
				<group>
					<field name="production_destocking"/>
					<field name="production_balance"/>
				</group>
			</group>
			<group name="revenue" string="Chiffre d'affaire">
				<group>
					<field name="gross_revenue"/>
					<field name="internal_revenue"/>
				</group>
				<group>
					<field name="internal_margin_amount"/>
					<field name="internal_margin_rate" widget="progressbar"/>
				</group>
			</group>
                </form>
              </field>
            </record>

	<record id="project_accounting.project_accounting_closing_pivot" model="ir.ui.view">
		<field name="name">project.accounting_closing.pivot</field>
		<field name="model">project.accounting_closing</field>
		<field name="arch" type="xml">
		    <pivot string="Cl么tures comptables" sample="1">
			<field name="closing_date" type="col" interval="year"/>
			<field name="closing_date" type="col" interval="month"/>
			<field name="project_id" type="row"/>
			<!--
			<field name="invoice_previous_balance" type="measure"/>
			-->
			<field name="invoice_period_amount" type="measure"/>
			<field name="invoice_balance" type="measure"/>
			<!--
			<field name="purchase_previous_balance" type="measure"/>
			-->
			<field name="purchase_period_amount" type="measure"/>
			<field name="purchase_balance" type="measure"/>
			<field name="provision_previous_balance_sum" type="measure"/>
			<field name="provision_balance_sum" type="measure"/>
			<!--
			<field name="pca_previous_balance" type="measure"/>
			-->
			<field name="pca_period_amount" type="measure"/>
			<field name="pca_balance" type="measure"/>
			<!--
			<field name="fae_previous_balance" type="measure"/>
			-->
			<field name="fae_period_amount" type="measure"/>
			<field name="fae_balance" type="measure"/>
			<!--
			<field name="cca_previous_balance" type="measure"/>
			-->
			<field name="cca_period_amount" type="measure"/>
			<field name="cca_balance" type="measure"/>
			<!--
			<field name="fnp_previous_balance" type="measure"/>
			-->
			<field name="fnp_period_amount" type="measure"/>
			<field name="fnp_balance" type="measure"/>
			<!--
			<field name="production_previous_balance" type="measure"/>
			-->
			<field name="production_period_amount" type="measure"/>
			<field name="production_stock" type="measure"/>
			<field name="production_destocking" type="measure"/>
			<field name="production_balance" type="measure"/>
			<field name="gross_revenue" type="measure"/>
			<field name="internal_revenue" type="measure"/>
			<field name="internal_margin_amount" type="measure"/>
			<field name="internal_margin_rate" type="measure"/>
		    </pivot>
		</field>
	</record>

        <record id="project_accounting_closing_action" model="ir.actions.act_window">
                <field name="name">Cl么tures comptables par projet</field>
                <field name="res_model">project.accounting_closing</field>
                <field name="view_mode">tree,form,pivot</field>
	</record>

	<menuitem name="Cl么tures comptables" id="project_accounting_closing_menu_root" parent="project.menu_main_pm" />
	<menuitem name="Cl么tures comptables" id="project_accounting_closing_menu_list" parent="project_accounting_closing_menu_root" action="project_accounting_closing_action"/>

	</data>
</odoo>
