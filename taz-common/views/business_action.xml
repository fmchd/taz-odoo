<odoo>
  <data>
    <record model="ir.ui.view" id="taz-common.business_action_tree">
      <field name="name">Actions commerciales</field>
      <field name="model">taz.business_action</field>
      <field name="arch" type="xml">
        <tree editable="top">
          <field name="parent_partner_industry_id" optional="hide"/>
	  <field name="partner_id" attrs="{'required' : True}" context="{'tree_view_ref':'taz-common.contact_tree', 'form_view_ref':'taz-common.contact_form'}"/>
          <field name="state"/>
          <field name="user_id"/>
          <field name="date_deadline"/>
          <field name="name"/>
          <field name="note"/>
      		<button icon="fa-eye" name="open_record" type="object" class="oe_highlight"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="taz-common.business_action_form">
      <field name="name">Actions commerciales</field>
      <field name="model">taz.business_action</field>
      <field name="arch" type="xml">
        <form>
	  <group>
          	<field name="name"/>
	  	<field name="partner_id" attrs="{'required' : True}" context="{'tree_view_ref':'taz-common.contact_tree', 'form_view_ref':'taz-common.contact_form'}"/>
          	<field name="state"/>
          	<field name="user_id"/>
          	<field name="date_deadline"/>
          	<field name="note"/>
          	<field name="parent_partner_industry_id"/>
          </group>
        </form>
      </field>
    </record>

    <record id="taz-common.business_action_action" model="ir.actions.act_window">
        <field name="name">Activit√©s commerciales</field>
        <field name="res_model">taz.business_action</field>
        <field name="view_mode">tree,form</field>
                <!--<field name="domain">[('res.model', '=', 'res.partner')]</field> -->
    </record>
    <record id="taz-common.business_action_action_view_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="act_window_id" ref="taz-common.business_action_action"/>
    </record>
    <record id="taz-common.business_action_action_view_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="act_window_id" ref="taz-common.business_action_action"/>
    </record>

    <menuitem name="Actions commerciales" id="taz-common.business_action" parent="taz-common.commerce" action="taz-common.business_action_action"/>
	 




    <!--
    <record model="ir.ui.view" id="taz-common.contact_tree">
      <field name="name">Contact2</field>
      <field name="model">taz.contact</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="taz-common.contact_form">
      <field name="name">Contact3</field>
      <field name="model">taz.contact</field>
      <field name="arch" type="xml">
        <form>
          <group>
                <field name="name"/>
		<field name="business_action_ids" string="Actions commerciales" context="{'search_default_contact_id': active_id, 'default_contact_id': active_id, 'contact_id':active_id, 'default_note':'plop'}"/>
          </group>
        </form>
      </field>
    </record>

    <record id="taz-common.contact2_action" model="ir.actions.act_window">
        <field name="name">Contact4</field>
        <field name="res_model">taz.contact</field>
        <field name="view_mode">form</field>
    </record>

    <record id="taz-common.contact2_view_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="act_window_id" ref="taz-common.contact2_action"/>
    </record>
    <record id="taz-common.contact2_view_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="2"/>
        <field name="view_mode">form</field>
        <field name="act_window_id" ref="taz-common.contact2_action"/>
    </record>

    <menuitem name="TAZ Contact" id="taz-common.contact2" parent="taz-common.commerce" action="taz-common.contact2_action" />
    -->

  </data>
</odoo>
